(this.webpackJsonpmovieapp=this.webpackJsonpmovieapp||[]).push([[0],Array(23).concat([function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(2),r=a(16),i=a.n(r),s=(a(23),a(44)),o=a(45),m=a(46),l=a(43);a(24);function d(){return Object(c.jsx)("div",{className:"rmdb-header",children:Object(c.jsxs)("div",{className:"rmdb-header-content",children:[Object(c.jsx)(l.a,{to:"/",children:Object(c.jsx)("img",{className:"rmdb-logo",alt:"rmdb-img",src:"images/reactMovie_logo.png"})}),Object(c.jsx)("img",{className:"rmdb-tmdb-logo",alt:"rmdb-tmdb-img",src:"images/tmdb_logo.png"})]})})}var h=a(12),j=a(15),b=a(6),u=a(7),v=a(9),g=a(8);a(27);var p=function(e){var t=e.image,a=e.title,n=e.text;return Object(c.jsx)("div",{className:"rmdb-heroimage",style:{backgroundColor:"#1c1c1c",backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:Object(c.jsx)("div",{className:"rmdb-heroimage-content",children:Object(c.jsxs)("div",{className:"rmdb-heroimage-text",children:[Object(c.jsx)("h1",{children:a}),Object(c.jsx)("p",{children:n})]})})})},f=a(5),O=a.n(f),x=(a(28),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={value:""},e.timeout=null,e.searcher=function(t){e.setState({value:t.target.value}),clearTimeout(e.timeout),e.timeout=setTimeout((function(){e.props.searchquery(e.state.value)}),1e3)},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"rmdb-searchbar",children:Object(c.jsxs)("div",{className:"rmdb-searchbar-content",children:[Object(c.jsx)(O.a,{className:"rmdb-fa-search",name:"search",size:"2x"}),Object(c.jsx)("input",{type:"text",className:"rmdb-searchbar-input",placeholder:"Search Movie",onChange:this.searcher,value:this.state.value})]})})}}]),a}(n.Component));a(29);var N=function(e){var t=e.header,a=e.loading,n=e.children;return Object(c.jsxs)("div",{className:"rmdb-grid",children:[t&&!a?Object(c.jsx)("h1",{children:t}):null,Object(c.jsx)("div",{className:"rmdb-grid-content",children:n.map((function(e,t){return Object(c.jsx)("div",{className:"rmdb-grid-element",children:e},t)}))})]})};a(30);var y=function(e){var t=e.onClick,a=e.text;return Object(c.jsx)("div",{className:"rmdb-loadmorebtn",onClick:t,children:Object(c.jsx)("p",{children:a})})};a(31);var S=function(e){var t=e.image,a=e.clickable,n=e.movieId,r=e.movieName;return Object(c.jsx)("div",{className:"rmdb-moviethumb",children:a?Object(c.jsx)(l.a,{to:{pathname:"/".concat(n),movieName:"".concat(r)},children:Object(c.jsx)("img",{src:t,alt:"moviethumb"})}):Object(c.jsx)("img",{src:t,alt:"moviethumb"})})};a(32);var k=function(){return Object(c.jsx)("div",{className:"loader"})},I=(a(33),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],displayImg:null,loading:!1,currentPage:0,totalPages:0,queryItem:""},e.searchMovies=function(t){var a="";e.setState({movies:[],loading:!0,queryItem:t}),a=""!==t?"".concat("https://api.themoviedb.org/3","/search/movie?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US&query=").concat(t):"".concat("https://api.themoviedb.org/3","/movie/popular?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US&page=1"),e.fetchMovies(a)},e.fetchMovies=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t.results),e.setState({movies:[].concat(Object(j.a)(e.state.movies),Object(j.a)(t.results)),displayImg:e.state.displayImg||t.results[1],loading:!1,currentPage:t.page,totalPages:t.total_pages},(function(){""===e.state.queryItem&&localStorage.setItem("HomeState",JSON.stringify(e.state))}))})).catch((function(e){return console.error("Error:",e)}))},e.loadMore=function(){var t="";e.setState({loading:!0}),t=""===e.state.queryItem?"".concat("https://api.themoviedb.org/3","/movie/popular?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US&page=").concat(e.state.currentPage+1):"".concat("https://api.themoviedb.org/3","/search/movie/?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US&query=").concat(e.state.queryItem,"&page=").concat(e.state.currentPage+1),e.fetchMovies(t)},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("HomeState")){var e=JSON.parse(localStorage.getItem("HomeState"));this.setState(Object(h.a)({},e))}else{this.setState({loading:!0});var t="".concat("https://api.themoviedb.org/3","/movie/popular?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US&page=1");this.fetchMovies(t)}}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"rmdb-home",children:[this.state.displayImg?Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{image:"".concat("http://image.tmdb.org/t/p","/").concat("w1280").concat(this.state.displayImg.backdrop_path),title:this.state.displayImg.original_title,text:this.state.displayImg.overview}),Object(c.jsx)(x,{searchquery:this.searchMovies})]}):null,Object(c.jsxs)("div",{className:"rmdb-home-grid",children:[Object(c.jsx)(N,{header:this.state.queryItem?"Search Results":"Popular movies",loading:this.state.loading,children:this.state.movies.map((function(e,t){return Object(c.jsx)(S,{clickable:!0,image:e.poster_path?"".concat("http://image.tmdb.org/t/p","/").concat("w500","/").concat(e.poster_path):"images/no_image.jpg",movieId:e.id,movieName:e.original_title},t)}))}),this.state.loading?Object(c.jsx)(k,{}):null,this.state.currentPage<=this.state.totalPages&&!this.state.loading?Object(c.jsx)(y,{onClick:this.loadMore,text:"Load More"}):null]})]})}}]),a}(n.Component));a(34);var _=function(e){var t=e.movie;return Object(c.jsx)("div",{className:"rmdb-navigation",children:Object(c.jsxs)("div",{className:"rmdb-navigation-content",children:[Object(c.jsx)(l.a,{to:"/",children:Object(c.jsx)("p",{children:"Home"})}),Object(c.jsx)("p",{children:"/"}),Object(c.jsx)("p",{children:t})]})})};a(35);var M=function(e){var t=e.movie,a=e.directors;return Object(c.jsx)("div",{className:"rmdb-movieinfo",style:{background:t.backdrop_path?"url('".concat("http://image.tmdb.org/t/p","/").concat("w1280","/").concat(t.backdrop_path,"')"):"#000"},children:Object(c.jsxs)("div",{className:"rmdb-movieinfo-content",children:[Object(c.jsx)("div",{className:"rmdb-movieinfo-thumb",children:Object(c.jsx)(S,{image:t.poster_path?"".concat("http://image.tmdb.org/t/p","/").concat("w1280","/").concat(t.poster_path):"images/no_image.jpg",clickable:!1})}),Object(c.jsxs)("div",{className:"rmdb-movieinfo-text",children:[Object(c.jsx)("h1",{children:t.title}),Object(c.jsx)("h3",{children:"PLOT"}),Object(c.jsx)("p",{children:t.overview}),Object(c.jsx)("h3",{children:"IMDB Rating"}),Object(c.jsxs)("div",{className:"rmdb-rating",children:[Object(c.jsx)("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*t.vote_average}),Object(c.jsx)("p",{className:"rmdb-score",children:t.vote_average})]}),a.length>1?Object(c.jsx)("h3",{children:"Directors"}):Object(c.jsx)("h3",{children:"Director"}),a.map((function(e,t){return Object(c.jsx)("p",{className:"rmdb-director",children:e.name},t)}))]}),Object(c.jsx)(O.a,{className:"fa-film",name:"film",size:"5x"})]})})},w=function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")},P=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)};a(36);var q=function(e){var t=e.time,a=e.budget,n=e.revenue;return Object(c.jsx)("div",{className:"rmdb-movieinfobar",children:Object(c.jsxs)("div",{className:"rmdb-movieinfobar-content",children:[Object(c.jsxs)("div",{className:"rmdb-movieinfobar-content-col",children:[Object(c.jsx)(O.a,{className:"fa-time",name:"clock-o",size:"2x"}),Object(c.jsxs)("span",{className:"rmdb-movieinfobar-info",children:["Running time: ",w(t)]})]}),Object(c.jsxs)("div",{className:"rmdb-movieinfobar-content-col",children:[Object(c.jsx)(O.a,{className:"fa-budget",name:"money",size:"2x"}),Object(c.jsxs)("span",{className:"rmdb-movieinfobar-info",children:["Budget: ",P(a)]})]}),Object(c.jsxs)("div",{className:"rmdb-movieinfobar-content-col",children:[Object(c.jsx)(O.a,{className:"fa-revenue",name:"ticket",size:"2x"}),Object(c.jsxs)("span",{className:"rmdb-movieinfobar-info",children:["Revenue: ",P(n)]})]})]})})};a(37);var C=function(e){var t=e.actor;return Object(c.jsxs)("div",{className:"rmdb-actor",children:[Object(c.jsx)("img",{src:t.profile_path?"".concat("http://image.tmdb.org/t/p","/").concat("w154","/").concat(t.profile_path):"images/no_image.jpg",alt:"actorthumb"}),Object(c.jsx)("span",{className:"rmdb-actor-name",children:t.name}),Object(c.jsx)("span",{className:"rmdb-actor-character",children:t.character})]})},D=(a(38),function(e){Object(v.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(b.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={actors:null,movie:null,directors:[],loading:!1},e.fetchMovies=function(t){fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t),t.status_code?e.setState({loading:!1}):e.setState({movie:t},(function(){var t="".concat("https://api.themoviedb.org/3","/movie/").concat(e.props.match.params.movieId,"/credits?api_key=").concat("592a362f47210f214d5644270f771707");fetch(t).then((function(e){return e.json()})).then((function(t){var a=t.crew.filter((function(e){return"Director"===e.job}));e.setState({actors:t.cast,directors:a,loading:!1},(function(){localStorage.setItem("".concat(e.props.match.params.movieId),JSON.stringify(e.state))}))}))}))})).catch((function(e){return console.error("Error:",e)}))},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(localStorage.getItem("".concat(this.props.match.params.movieId))){var e=JSON.parse(localStorage.getItem("".concat(this.props.match.params.movieId)));this.setState(Object(h.a)({},e))}else{var t;this.setState({loading:!0}),t="".concat("https://api.themoviedb.org/3","/movie/").concat(this.props.match.params.movieId,"?api_key=").concat("592a362f47210f214d5644270f771707","&language=en-US"),this.fetchMovies(t)}}},{key:"render",value:function(){return Object(c.jsxs)("div",{className:"rmdb-movie",children:[this.state.movie?Object(c.jsxs)("div",{children:[Object(c.jsx)(_,{movie:this.props.location.movieName}),Object(c.jsx)(M,{movie:this.state.movie,directors:this.state.directors}),Object(c.jsx)(q,{time:this.state.movie.runtime,budget:this.state.movie.budget,revenue:this.state.movie.revenue})]}):null,this.state.actors?Object(c.jsx)("div",{className:"rmdb-movie-grid",children:Object(c.jsx)(N,{header:"Actors",children:this.state.actors.map((function(e,t){return Object(c.jsx)(C,{actor:e},t)}))})}):null,this.state.actors||this.state.loading?null:Object(c.jsx)("h1",{children:"No movie found"}),this.state.loading?Object(c.jsx)(k,{}):null]})}}]),a}(n.Component));function U(){return Object(c.jsx)("div",{children:Object(c.jsx)("h2",{children:"Sorry, this page doesn't exist"})})}a(39);var z=function(){return Object(c.jsx)(s.a,{children:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(d,{}),Object(c.jsxs)(o.a,{children:[Object(c.jsx)(m.a,{path:"/",component:I,exact:!0}),Object(c.jsx)(m.a,{path:"/:movieId",component:D,exact:!0}),Object(c.jsx)(m.a,{component:U})]})]})})};i.a.render(Object(c.jsx)(z,{}),document.getElementById("root"))}]),[[41,1,2]]]);
//# sourceMappingURL=main.cb63a5fd.chunk.js.map